<div class="signup-left">
  <div class="home-button" (click)="goToHome()">
    <img src="assets/icons/home.png" alt="Home icon" />
    <span>HOME</span>
  </div>

  <img src="assets/images/signup-recruiter.png" alt="signup-recruiter" />
  <div class="overlay">
    <h2>
      Welcome to<br>
      <span class="highlighted-title">AIRecruit Community</span>
    </h2>

    <p>Hire smarter, faster, and better!</p>
    <div class="features-container">
      <ul class="features-one">
        <li><img src="assets/icons/check.png" alt="check icon"> Candidate Management</li>
        <li><img src="assets/icons/check.png" alt="check icon"> Job Offer Management</li>
        <li><img src="assets/icons/check.png" alt="check icon"> Top Candidate Ranking</li>
      </ul>
      <ul class="features-two">
        <li><img src="assets/icons/check.png" alt="check icon"> Automated Q&A Assessments</li>
        <li><img src="assets/icons/check.png" alt="check icon"> Candidate Scoring</li>
        <li><img src="assets/icons/check.png" alt="check icon"> Interactive Dashboard</li>
      </ul>
    </div>
  </div>
</div>

<!-- Partie droite (formulaire) -->
<div class="signup-right">
  <h3>Join us</h3>
  <p>Create your account and connect with top candidates</p>
  <p class="subtext">Be part of a strong community!</p>

  <!-- Success/Error Messages -->
  <div *ngIf="successMessage" class="alert-success" role="alert">
    {{ successMessage }}
  </div>
  <div *ngIf="errorMessage" class="alert-danger" role="alert">
    {{ errorMessage }}
  </div>

  <!-- Étape 1 -->
  <form *ngIf="step === 1" [formGroup]="stepOneForm" (ngSubmit)="nextStep()">
      <div style="display: flex; width: 100%;">
        <input id="firstName" type="text" formControlName="firstName" placeholder="First Name" style="flex: 1; margin-right: 5px;" />
        <input id="lastName" type="text" formControlName="lastName" placeholder="Last Name" style="flex: 1; margin-left: 5px;" />
      </div>
      <div *ngIf="stepOneForm.get('firstName')?.touched && stepOneForm.get('firstName')?.hasError('required')" class="field-error">
        First Name is required.
      </div>
      <div *ngIf="stepOneForm.get('lastName')?.touched && stepOneForm.get('lastName')?.hasError('required')" class="field-error">
        Last Name is required.
      </div>
      <input id="email" type="email" formControlName="email" placeholder="Email" />
      <div *ngIf="stepOneForm.get('email')?.touched && stepOneForm.get('email')?.hasError('required')" class="field-error">
        Email is required.
      </div>
      <div *ngIf="stepOneForm.get('email')?.touched && stepOneForm.get('email')?.hasError('email')" class="field-error">
        Please enter a valid email address.
      </div>
      <input id="password" type="password" formControlName="password" placeholder="Password" />
      <div *ngIf="stepOneForm.get('password')?.touched && stepOneForm.get('password')?.hasError('required')" class="field-error">
        Password is required.
      </div>
      <div *ngIf="stepOneForm.get('password')?.touched && stepOneForm.get('password')?.hasError('minlength')" class="field-error">
        Password must be at least 8 characters long.
      </div>
      <input id="companyName" type="text" formControlName="companyName" placeholder="Company Name" />
      <div *ngIf="stepOneForm.get('companyName')?.touched && stepOneForm.get('companyName')?.hasError('required')" class="field-error">
        Company Name is required.
      </div>

      <select id="companySize" formControlName="companySize">
        <option value="" disabled selected>Company Size</option>
        <option value="1-10">1-10</option>
        <option value="11-50">11-50</option>
        <option value="51-200">51-200</option>
        <option value="201-500">201-500</option>
        <option value="500+">500+</option>
      </select>
      <div *ngIf="stepOneForm.get('companySize')?.touched && stepOneForm.get('companySize')?.hasError('required')" class="field-error">
        Company Size is required.
      </div>

      <div style="display: flex; width: 100%;">
        <select id="country" formControlName="country" (change)="onCountryChange($event)" style="flex: 1; margin-right: 5px;">
          <option value="" disabled selected>Country</option>
          <option value="france">France</option>
          <option value="germany">Germany</option>
          <option value="spain">Spain</option>
          <option value="italy">Italy</option>
          <option value="belgium">Belgium</option>
          <option value="netherlands">Netherlands</option>
          <option value="sweden">Sweden</option>
          <option value="norway">Norway</option>
          <option value="morocco">Morocco</option>
          <option value="algeria">Algeria</option>
          <option value="tunisia">Tunisia</option>
          <option value="egypt">Egypt</option>
          <option value="lebanon">Lebanon</option>
          <option value="jordan">Jordan</option>
          <option value="iraq">Iraq</option>
          <option value="palestine">Palestine</option>
          <option value="syria">Syria</option>
          <option value="uae">United Arab Emirates</option>
          <option value="saudi">Saudi Arabia</option>
          <option value="Other">Other</option>
        </select>
        <input *ngIf="isOtherCountry" type="text" formControlName="otherCountry" placeholder="Enter country" style="flex: 1;" />
        <input id="city" type="text" formControlName="city" placeholder="City" style="flex: 1; margin-left: 5px;" />
      </div>
      <div *ngIf="stepOneForm.get('country')?.touched && stepOneForm.get('country')?.hasError('required')" class="field-error">
        Country is required.
      </div>
      <div *ngIf="isOtherCountry && stepOneForm.get('otherCountry')?.touched && stepOneForm.get('otherCountry')?.hasError('required')" class="field-error">
        Custom Country is required.
      </div>
      <div *ngIf="stepOneForm.get('city')?.touched && stepOneForm.get('city')?.hasError('required')" class="field-error">
        City is required.
      </div>
      <input id="addressLine1" type="text" formControlName="addressLine1" placeholder="Address Line 1" />
      <div *ngIf="stepOneForm.get('addressLine1')?.touched && stepOneForm.get('addressLine1')?.hasError('required')" class="field-error">
        Address Line 1 is required.
      </div>
      <input id="addressLine2" type="text" formControlName="addressLine2" placeholder="Address Line 2" />
    <div class="signin-message">
      Already have an account?
      <a (click)="goToSignIn()" style="cursor: pointer;">Sign In</a>
    </div>
    <button type="submit">
      NEXT STEP
      <img src="assets/icons/arrow.png" alt="arrow icon">
    </button>
  </form>
  <!-- Étape 2 -->
  <form *ngIf="step === 2" [formGroup]="stepTwoForm" (ngSubmit)="submit()">
      <input id="phoneNumber1" type="text" formControlName="phoneNumber1" placeholder="Phone Number 1" />
      <div *ngIf="stepTwoForm.get('phoneNumber1')?.touched && stepTwoForm.get('phoneNumber1')?.hasError('required')" class="field-error">
        Phone Number 1 is required.
      </div>

      <input id="phoneNumber2" type="text" formControlName="phoneNumber2" placeholder="Phone Number 2" />

      <input id="webSite" type="text" formControlName="webSite" placeholder="Website" />

      <select id="field" formControlName="field" (change)="onFieldChange($event)">
        <option value="" disabled selected>Field</option>
        <option value="IT">IT</option>
        <option value="Health">Health</option>
        <option value="Education">Education</option>
        <option value="Finance">Finance</option>
        <option value="RealEstate">Real Estate</option>
        <option value="Commerce">Commerce</option>
        <option value="Industry">Industry</option>
        <option value="Transport">Transport</option>
        <option value="Tourism">Tourism</option>
        <option value="Other">Other</option>
      </select>
      <div *ngIf="stepTwoForm.get('field')?.touched && stepTwoForm.get('field')?.hasError('required')" class="field-error">
        Field is required.
      </div>
      <input *ngIf="isOtherField" type="text" formControlName="otherField" placeholder="Enter custom field" />
      <div *ngIf="isOtherField && stepTwoForm.get('otherField')?.touched && stepTwoForm.get('otherField')?.hasError('required')" class="field-error">
        Custom Field is required.
      </div>

      <textarea id="companyDescription" formControlName="companyDescription" rows="7" placeholder="Company Description"></textarea>

    <button type="submit">SIGN UP</button>
  </form>
</div>
