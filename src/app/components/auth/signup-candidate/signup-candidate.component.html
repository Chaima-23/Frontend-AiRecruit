<div class="signup-left">
  <div class="home-button" (click)="goToHome()">
    <img src="assets/icons/home.png" alt="Home icon" />
    <span>HOME</span>
  </div>

  <img src="assets/images/signup-candidate.png" alt="signup-candidate" />
  <div class="overlay">
    <h2>
      Welcome to<br>
      <span class="highlighted-title">AIRecruit Community</span>
    </h2>

    <p>Get hired smarter, faster, and better!</p>
    <div class="features-container">
      <ul class="features-one">
        <li><img src="assets/icons/check.png" alt="check icon"> Personalized Job Matching</li>
        <li><img src="assets/icons/check.png" alt="check icon"> Automated Q&A Assessments</li>
        <li><img src="assets/icons/check.png" alt="check icon"> Smart Resume Optimization</li>
      </ul>
      <ul class="features-two">
        <li><img src="assets/icons/check.png" alt="check icon"> AI-Powered Offer Recommendations</li>
        <li><img src="assets/icons/check.png" alt="check icon"> Connect with Top Employers</li>
        <li><img src="assets/icons/check.png" alt="check icon"> Interactive Dashboard</li>
      </ul>
    </div>
  </div>
</div>

<!-- Partie droite (formulaire) -->
<div class="signup-right">
  <h3>Join us</h3>
  <p>Create your account and connect with top employers</p>
  <p class="subtext">Be part of a strong community!</p>

  <!-- Success/Error Messages -->
  <div *ngIf="successMessage" class="alert-success">
    {{ successMessage }}
  </div>
  <div *ngIf="errorMessage" class="alert-danger">
    {{ errorMessage }}
  </div>

  <!-- Étape 1 -->
  <form *ngIf="step === 1" [formGroup]="stepOneForm" (ngSubmit)="nextStep()">
    <div style="display: flex; width: 100%;">
      <input type="text" formControlName="firstName" placeholder="First Name" style="flex: 1; margin-right: 5px;" />
      <div *ngIf="stepOneForm.get('firstName')?.touched && stepOneForm.get('firstName')?.invalid" class="error">
        First name is required.
      </div>
      <input type="text" formControlName="lastName" placeholder="Last Name" style="flex: 1; margin-left: 5px;" />
      <div *ngIf="stepOneForm.get('lastName')?.touched && stepOneForm.get('lastName')?.invalid" class="error">
        Last name is required.
      </div>
    </div>

    <input type="email" formControlName="email" placeholder="Email">
    <div *ngIf="stepOneForm.get('email')?.touched && stepOneForm.get('email')?.invalid" class="error">
      Valid email is required.
    </div>

    <input type="password" formControlName="password" placeholder="Password">
    <div *ngIf="stepOneForm.get('password')?.touched && stepOneForm.get('password')?.invalid" class="error">
      Password is required.
    </div>

    <input type="date" formControlName="dateOfBirth" placeholder="Date of Birth">
    <div *ngIf="stepOneForm.get('dateOfBirth')?.touched && stepOneForm.get('dateOfBirth')?.invalid" class="error">
      Date of birth is required.
    </div>

    <select formControlName="gender">
      <option value="" disabled selected>Gender</option>
      <option value="male">Male</option>
      <option value="female">Female</option>
    </select>
    <div *ngIf="stepOneForm.get('gender')?.touched && stepOneForm.get('gender')?.invalid" class="error">
      Gender is required.
    </div>

    <select id="country" formControlName="country" (change)="onCountryChange($event) ">
      <option value="" disabled selected>Country</option>
      <option value="france">France</option>
      <option value="germany">Germany</option>
      <option value="spain">Spain</option>
      <option value="italy">Italy</option>
      <option value="belgium">Belgium</option>
      <option value="netherlands">Netherlands</option>
      <option value="sweden">Sweden</option>
      <option value="norway">Norway</option>
      <option value="morocco">Morocco</option>
      <option value="algeria">Algeria</option>
      <option value="tunisia">Tunisia</option>
      <option value="egypt">Egypt</option>
      <option value="lebanon">Lebanon</option>
      <option value="jordan">Jordan</option>
      <option value="iraq">Iraq</option>
      <option value="palestine">Palestine</option>
      <option value="syria">Syria</option>
      <option value="uae">United Arab Emirates</option>
      <option value="saudi">Saudi Arabia</option>
      <option value="Other">Other</option>
    </select>
    <div *ngIf="stepOneForm.get('country')?.touched && stepOneForm.get('country')?.invalid" class="error">
      Country is required.
    </div>

    <input *ngIf="isOtherCountry" type="text" formControlName="otherCountry" placeholder="Enter country" />
    <div *ngIf="isOtherCountry && stepOneForm.get('otherCountry')?.touched && stepOneForm.get('otherCountry')?.invalid" class="error">
      Custom country is required.
    </div>

    <div style="display: flex; width: 100%;">
        <input type="text" formControlName="city" placeholder="City" style="flex: 1; margin-right: 5px;">
        <div *ngIf="stepOneForm.get('city')?.touched && stepOneForm.get('city')?.invalid" class="error">
          City is required.
        </div>

        <input type="text" formControlName="address" placeholder="Address" style="flex: 1; margin-left: 5px;">
        <div *ngIf="stepOneForm.get('address')?.touched && stepOneForm.get('address')?.invalid" class="error">
          Address is required.
        </div>
    </div>

    <input type="tel" formControlName="phoneNumber" placeholder="Phone Number" />
    <div *ngIf="stepOneForm.get('phoneNumber')?.touched && stepOneForm.get('phoneNumber')?.invalid" class="error">
      Phone number is required.
    </div>

    <div class="signin-message">
      Already have an account?
      <a (click)="goToSignIn()" style="cursor: pointer;">Sign In</a>
    </div>

    <button type="submit" [disabled]="stepOneForm.invalid">
      NEXT STEP
      <img src="assets/icons/arrow.png" alt="arrow icon">
    </button>
  </form>

  <!-- Étape 2 -->
  <form *ngIf="step === 2" [formGroup]="stepTwoForm" (ngSubmit)="submit()">
    <input type="text" formControlName="diploma" placeholder="Diploma">
    <div *ngIf="stepTwoForm.get('diploma')?.touched && stepTwoForm.get('diploma')?.invalid" class="error">
      Diploma is required.
    </div>

    <input type="text" formControlName="specialization" placeholder="Specialization">
    <div *ngIf="stepTwoForm.get('specialization')?.touched && stepTwoForm.get('specialization')?.invalid" class="error">
      Specialization is required.
    </div>

    <input type="number" formControlName="yearsOfExperience" placeholder="Years of Experience">
    <div *ngIf="stepTwoForm.get('yearsOfExperience')?.touched && stepTwoForm.get('yearsOfExperience')?.invalid" class="error">
      Years of experience is required.
    </div>

    <input type="text" formControlName="technicalSkills" placeholder="Technical Skills">
    <div *ngIf="stepTwoForm.get('technicalSkills')?.touched && stepTwoForm.get('technicalSkills')?.invalid" class="error">
      Technical skills are required.
    </div>

    <input type="text" formControlName="softSkills" placeholder="Soft Skills">
    <div *ngIf="stepTwoForm.get('softSkills')?.touched && stepTwoForm.get('softSkills')?.invalid" class="error">
      Soft skills are required.
    </div>



    <button type="submit" [disabled]="stepTwoForm.invalid">SIGN UP</button>
  </form>
</div>
